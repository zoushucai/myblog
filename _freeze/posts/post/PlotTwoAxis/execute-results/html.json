{
  "hash": "b7973a812f68cd4ad16b44378bb96482",
  "result": {
    "markdown": "---\ntitle: R语言绘制双坐标图\ndate: '2019-04-01'\ncategories: 可视化\n---\n\n\n\n\n## 使用plotrix包\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#png(\"2y_1.png\")\nrm(list = ls())\nlibrary(plotrix)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'dplyr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n:::\n\n```{.r .cell-code}\nnew_iris = arrange(iris,Sepal.Length)# 按照花瓣的长度进行排序 --- 为了后面好看  \nhead(new_iris,10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1           4.3         3.0          1.1         0.1  setosa\n2           4.4         2.9          1.4         0.2  setosa\n3           4.4         3.0          1.3         0.2  setosa\n4           4.4         3.2          1.3         0.2  setosa\n5           4.5         2.3          1.3         0.3  setosa\n6           4.6         3.1          1.5         0.2  setosa\n7           4.6         3.4          1.4         0.3  setosa\n8           4.6         3.6          1.0         0.2  setosa\n9           4.6         3.2          1.4         0.2  setosa\n10          4.7         3.2          1.3         0.2  setosa\n```\n:::\n\n```{.r .cell-code}\n# 设置数据 -\ny1 = new_iris$Sepal.Length[1:10]\nx1_axis = 1:length(y1)\n\ny2 = new_iris$Petal.Length[1:10]\nx2_axis = 1:length(y2)\n\n\npar(family='STKaiti')\ntwoord.plot(x1_axis, y1, x2_axis, y2,main = '双折线图') #  这线图\n```\n\n::: {.cell-output-display}\n![](PlotTwoAxis_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(family='STKaiti')\ntwoord.plot(x1_axis, y1, x2_axis, y2,lylim=c(4.2,4.8),rylim=c(1,1.5),lcol=4,rcol=2,main = '折线图和条形图',\n            xlab=\"x轴\",ylab=\"y1轴\",rylab=\"y2轴\",type=c(\"bar\",\"b\"),halfwidth=0.2) # 折线图和条形图\n```\n\n::: {.cell-output-display}\n![](PlotTwoAxis_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#dev.off()\n```\n:::\n\n\n\n## twoord.plot() 参数解释 \n\n**twoord.plot()函数语法及参数含义：**\n\n```\n twoord.plot(lx,ly,rx,ry,data=NULL,main=\"\",xlim=NULL,lylim=NULL,rylim=NULL,\n \t\tmar=c(5,4,4,4),lcol=1,rcol=2,xlab=\"\",lytickpos=NA,ylab=\"\",ylab.at=NA,\n \t\trytickpos=NA,rylab=\"\",rylab.at=NA,lpch=1,rpch=2,\n \t\ttype=\"b\",xtickpos=NULL,xticklab=NULL,halfwidth=0.4,axislab.cex=1,do.first=NULL,...)\n```\n\n- lx,ly,rx,ry：分别指定左坐标轴和右坐标轴的值，必须是连续的值\n- data：需要绘制双轴图形的数据框\n- main：为图形指定标题\n- xlim：限制横坐标值的范围\n- lylim,rylim：限制左右纵坐标值的范围\n- mar：设置图形边界距，默认值为(5,4,4,4)\n- lcol,rcol：设置左右坐标轴的颜色，这样可以起到图例的作用\n- xlab：设置横坐标轴标签\n- lytickpos：设置左坐标轴刻度标签的位置\n- ylab：设置左坐标轴标签\n- ylab.at：设置左坐标轴标签位置\n- rytickpos：设置右坐标轴刻度标签的位置\n- rylab：设置又坐标轴标签\n- rylab.at：设置右坐标轴标签位置\n- lpch,rpch：设置左右坐标轴图形的外观\n- type：指定图形类型,参考plot参数的类型\n  - `p` 为 points，`I` for lines， `b` for both，\"c\" for the lines part alone of \"b\",\n  - \"o\" for both ‘overplotted’，\"h\" for ‘histogram’ like (or ‘high-density’) vertical lines,\n  - \"s\" for stair steps, \"S\" for other steps, \"n\" for no plotting.\n- xtickpos：设置横坐标轴刻度标签位置\n- xticklab：设置横坐标轴刻度标签\n- halfwidth：设置用户给定条形图宽度的一半\n- axislab.cex：设置坐标轴标签和刻度标签的大小\n- do.first：通过该参数可以往图形中添加背景色或网格线\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.2.1 (2022-06-23)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Monterey 12.5.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRblas.0.dylib\nLAPACK: /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/lib/libRlapack.dylib\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] dplyr_1.0.9   plotrix_3.8-2\n\nloaded via a namespace (and not attached):\n [1] rstudioapi_0.14   knitr_1.40        magrittr_2.0.3    tidyselect_1.1.2 \n [5] R6_2.5.1          rlang_1.0.4       fastmap_1.1.0     fansi_1.0.3      \n [9] stringr_1.4.1     tools_4.2.1       xfun_0.32         utf8_1.2.2       \n[13] DBI_1.1.3         cli_3.3.0         htmltools_0.5.3   assertthat_0.2.1 \n[17] yaml_2.3.5        digest_0.6.29     tibble_3.1.8      lifecycle_1.0.1  \n[21] purrr_0.3.4       htmlwidgets_1.5.4 vctrs_0.4.1       glue_1.6.2       \n[25] evaluate_0.16     rmarkdown_2.16.1  stringi_1.7.8     compiler_4.2.1   \n[29] pillar_1.8.1      generics_0.1.3    jsonlite_1.8.0    pkgconfig_2.0.3  \n```\n:::\n:::\n",
    "supporting": [
      "PlotTwoAxis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}